-- Create "goals" table
CREATE TABLE "goals" ("id" uuid NOT NULL, "created_at" timestamptz NOT NULL, "updated_at" timestamptz NOT NULL, "type" character varying NOT NULL, "start" timestamptz NOT NULL, "end" timestamptz NOT NULL, "healthkit_workout_activity_type" character varying NULL, "action" character varying NOT NULL, "value" character varying NOT NULL, "unit" character varying NOT NULL, "value_aggregation_type" character varying NOT NULL, "time_interval" character varying NOT NULL, "goal_profile" uuid NOT NULL, "goal_competition" uuid NULL, "goal_squad" uuid NULL, PRIMARY KEY ("id"), CONSTRAINT "goals_profiles_profile" FOREIGN KEY ("goal_profile") REFERENCES "profiles" ("id") ON DELETE NO ACTION, CONSTRAINT "goals_competitions_competition" FOREIGN KEY ("goal_competition") REFERENCES "competitions" ("id") ON DELETE SET NULL, CONSTRAINT "goals_squads_squad" FOREIGN KEY ("goal_squad") REFERENCES "squads" ("id") ON DELETE SET NULL);
